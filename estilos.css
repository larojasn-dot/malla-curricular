/* --- Paleta de Colores y Estilos Base --- */
:root {
  /* ðŸŒ¸ MODO CLARO â€“ Rosado elegante con texto azul */
  --color-fondo: #FFF7FA;
  --color-semestre-bg: #FFFFFF;
  --color-texto: #2A3C5A;
  --color-borde-suave: #F2EBED;

  /* Colores para Asignaturas */
  --color-fundacion: #E57399;   /* Bubblegum Pink */
  --color-disciplinar: #F6AEBB; /* Rosado Principal */
  --color-libre: #FDDDE1;       /* Rosado Claro */
  --color-trabajo: #2A3C5A;      /* Azul Contraste */
  
  --color-texto-claro: #FFFFFF;
  --color-texto-oscuro: #2A3C5A;

  --color-aprobado: #50C878;     /* Verde Malaquita (combina bien) */
  --color-bloqueado: #EAE0E3;
}

[data-theme="dark"] {
  /* ðŸŒ™ MODO OSCURO â€“ Azul violeta cÃ¡lido con rosado blush */
  --color-fondo: #241F2E;
  --color-semestre-bg: #3A2F46;
  --color-texto: #FDF9F8;
  --color-borde-suave: #3A2F46;

  /* Colores para Asignaturas */
  --color-fundacion: #E59A9A;   /* Rosado Blush */
  --color-disciplinar: #F1B2B2; /* Rosado Claro (Hover) */
  --color-libre: #3A2F46;       /* Fondo oscuro con borde */
  --color-trabajo: #E59A9A;      /* Rosado Blush */

  --color-texto-claro: #FDF9F8;
  --color-texto-oscuro: #2A3C5A; /* Se mantiene por si se necesita */

  --color-aprobado: #50C878;
  --color-bloqueado: #4A4557;
}

body {
  font-family: 'Poppins', sans-serif; /* Nueva fuente */
  background-color: var(--color-fondo);
  color: var(--color-texto);
  margin: 0;
  padding: 20px;
  text-align: center;
  transition: background-color 0.3s, color 0.3s;
}

h1 {
  margin-top: 0;
  font-size: 2.2em;
  font-weight: 700;
}

#malla-container {
  display: flex;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 20px;
  gap: 20px;
  justify-content: flex-start;
}

.semestre {
  background-color: var(--color-semestre-bg);
  border: 1px solid var(--color-borde-suave);
  border-radius: 24px; /* MÃ¡s orgÃ¡nico */
  padding: 15px;
  min-width: 250px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  flex-shrink: 0;
  transition: background-color 0.3s, border-color 0.3s;
}

.semestre h2 {
  margin-top: 0;
  font-size: 1.6em;
  font-weight: 600;
  color: var(--color-texto);
}

.ramo {
  border-radius: 25px; /* Â¡SÃºper orgÃ¡nico! */
  padding: 15px;
  margin: 12px 0;
  font-weight: 600;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
  border: none;
  text-align: left;
}

.ramo:not(.bloqueado):hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

.ramo span {
  font-size: 0.85em;
  font-weight: 400;
  opacity: 0.9;
  display: block;
  margin-top: 4px;
}

/* --- Tipos de ramos con colores de la paleta --- */
.fundacion { background-color: var(--color-fundacion); color: var(--color-texto-claro); }
.disciplinar { background-color: var(--color-disciplinar); color: var(--color-texto-oscuro); }
.libre { background-color: var(--color-libre); color: var(--color-texto-oscuro); }
[data-theme="dark"] .libre { border: 2px solid var(--color-disciplinar); color: var(--color-texto-claro);}
.trabajo { background-color: var(--color-trabajo); color: var(--color-texto-claro); }

.bloqueado {
  background-color: var(--color-bloqueado) !important;
  color: #999;
  cursor: not-allowed;
  box-shadow: none;
}
[data-theme="dark"] .bloqueado { color: #777; }

.aprobado {
  background-color: var(--color-aprobado) !important;
  color: var(--color-texto-claro) !important;
  text-decoration: line-through;
  opacity: 0.9;
}

/* --- Footer y BotÃ³n --- */
#footer { margin: 30px 20px; }

#botonReiniciar {
  padding: 12px 25px;
  font-size: 1em;
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  background-color: var(--color-fundacion);
  border: none;
  border-radius: 16px; /* OrgÃ¡nico */
  color: var(--color-texto-claro);
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
}

#botonReiniciar:hover {
  background-color: var(--color-disciplinar);
  color: var(--color-texto-oscuro);
  transform: scale(1.05);
}

#avance {
  margin-top: 20px;
  font-weight: 600;
  font-size: 1.1em;
}

/* --- Estilos para el Interruptor de Tema --- */
.theme-switcher-wrapper {
  margin-bottom: 25px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.theme-switcher {
  position: relative;
  display: inline-block;
  width: 70px;
  height: 34px;
}
.theme-switcher input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: var(--color-trabajo);
  transition: 0.4s;
}
.slider.round { border-radius: 34px; }
.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}
input:checked + .slider { background-color: var(--color-semestre-bg); border: 1px solid var(--color-fundacion);}
input:checked + .slider:before { transform: translateX(36px); }

/* Iconos del toggle */
.slider .icon {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 16px;
  opacity: 0;
  transition: opacity 0.4s;
}
.slider .light-icon { left: 8px; }
.slider .dark-icon { right: 8px; }
input:not(:checked) ~ .slider .dark-icon,
input:checked ~ .slider .light-icon { opacity: 1; }